@using System.Collections;
@using FPTV.Models.Forum;
@using FPTV.Models.UserModels;
@using Microsoft.AspNetCore.Identity;
@inject UserManager<UserBase> userManager
@{
	//ViewData["Title"] = "Forum - " + Model.Title;
	ViewData["Title"] = "Reported Topics & Comments";
}
@model List<object>
<!DOCTYPE html>

<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<html>
	<style>
		.central {
			width: 100%;
			margin: 0 auto;
			text-align: center;
			height:100%;
			/*background-color: white;*/
		}

		.center {
			display: flex;
			justify-content: center;
			align-items: center;
		}

		h1 {
			font-size: 36px;
			margin-bottom: 30px;
		}
		.buttons {
			display: flex;
			justify-content: center;
			margin-bottom: 30px;
		}
		.button {

			margin-left:10px;
			background-color: #e0eeff;
			color: black;
			border-radius: 5px;
			cursor: pointer;
			transition: all 0.2s ease-in-out;
			border: 1px solid black;
		}

		.btn1 {
			border: 1px solid black;
		}

		.button2 {
			background-color: #e0eeff;
			color: black;
			width:100%;
			padding: 10px 20px;
			border-radius:5px;
		}

		.button:hover {
			background-color: #2980b9;
		}
		.my-div {
			width:100%;
			display: flex;
			flex-direction: row;
			height: 50px;
			margin: 10px;
		}
		.my-div > div {
			flex-basis: 25%;
			flex-grow: 1;

		}

		span{
			font-weight:bold;
		}

		.dropdown {
			margin-left:10px;
			background-color: #e0eeff;
			color: #fff;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			transition: all 0.2s ease-in-out;
			border: 1px solid black;
		}

		.dropdown-content {
			display: none;
			position: absolute;
			z-index: 1;
			margin-left:5%;
			margin-top: 2px;

		}

		.dropdown:hover .dropdown-content {
			display: block;
		}

		.dropdown-content a {
			background-color:white;
			display: block;
			color: #000;
			padding: 10px;
			text-decoration: none;
			border: 1px solid black;
		}

		.dropdown-content a:hover {
			background-color: #bf7b8e;
		}

		.search-container {
			display: flex;
			align-items: center;
		}

		.search-container input[type="text"] {
			background-color: #e0eeff;
			color: black;
			width:100%;
			padding: 10px 20px;
			border:1px solid black;

		}

		.search-container img {
			margin-right: 10px;
			height: 30px;
			width: 30px;
		}

		a {
			color: inherit;
		}

	.categoria {
		background-color: black;
		border: 1px solid white;
		border-radius: 10px;
		font-size: 20px;
	}

	</style>

<body class="bodytemp ">

	<div class="central bodycolor bordercolor" style="border-radius:15px; padding:1%;text-align:center;">
			<!-- ---------------------------------------TITULO------------------------------------------------ -->
		<div style="display: inline-block;margin-top:0px;">

			<span style="font-size: 32px" id="toTranslate">@ViewData["Title"]</span> 

		</div>
		<br>
		<hr class="hrstyle" />

		<!------------------DROPDOWN---------------------------->
		<div style="display:flex;width:95%;padding:3px;margin:auto;margin-top:2%">

			<div class="dropdown">
				<button class="button2" id="toTranslate">Sort by</button>
				<div class="dropdown-content" style="margin-left:0px;">
					<a id="toTranslate" href="@Url.Action("Topic", "Forum", new {filter = "newest"})">Topic</a>
					<a id="toTranslate" href="@Url.Action("Topic", "Forum", new {filter = "oldest"})">Comment</a>
				</div>
			</div>
			
		</div>
		<hr class="hrstyle" />
		<!--------------------------------------------------------------->
		@foreach (var obj in Model)
		{
			if(obj is Topic)
			{
				var t = obj as Topic;
				string flag = "/images/Flags/4x3/" + t.Profile.Flag + ".svg";
				int reactionCount = 0;
				<div style="border-radius:5px;width:95%;padding:3px;margin:auto;margin-top:1%" class="btn1 bordercolor">
					
					<div style="width:15%;margin-bottom:0px;font-size:20px;justify-content:left;padding: 5px;;display:flex">
						<button onclick="location.href='@Url.Action("DeleteReportedPost", "Forum", new {id = t.TopicId})'" style="background-color:transparent;border:none;padding:0px;">
							<img src="~/images/trash.png" style="width:25px;margin:auto;margin-bottom:10px;cursor: pointer" />
						</button>
						<span class="categoria" style="padding:10px;;margin-left:10px;" id="toTranslate">Topic</span>
						<button onclick="location.href='@Url.Action("TopicReportRemove", "Forum", new {id = t.TopicId})'" style="background-color:transparent;border:none;width:100%;padding:0px">
							<img src="~/images/openTrash.png" style="width:40px;height:55px !important;margin:auto;margin-bottom:10px;cursor: pointer" />
						</button>
					</div>

					<div style="width:70%;margin:auto;text-align:center">
						<h5 style="margin-bottom:0px;margin-left:3%;text-align: left;font-size:25px;text-align:center" id="toTranslate">@t.Title</h5>
					</div>

					<div style="text-align:center;display:flex;justify-content:center">

						<div style="margin-bottom:0px;margin-left: 10px;font-size:20px;display:flex;justify-content:center">
							<img onclick="location.href='@Url.Action("Profile", "Forum", new {profileId = t.ProfileId})'" src="data:image/*;base64,@(Convert.ToBase64String(t.Profile.Picture))" style="width:50px;height: 50px;margin:auto" />
							<p onclick="location.href='@Url.Action("Profile", "Forum", new {profileId = t.ProfileId})'" style="margin-top:25px;margin-left:5px;margin-right:5px;font-size:20px;font-weight:normal">@t.Profile.User.UserName </p>
							<img src="@flag" style="width:25px" />
						</div>

					</div>
				
				</div>
			}

			if(obj is Comment)
			{
				var c = obj as Comment;
				string cflag = "/images/Flags/4x3/" + c.Profile.Flag + ".svg";
		
				<div style="border-radius:5px;width:95%;padding:3px;margin:auto;margin-top:1%;" class="btn1 bordercolor">
					
					<div style="width:15%;margin-bottom:0px;font-size:20px;justify-content:left;padding: 5px;display:flex">
						<button onclick="location.href='@Url.Action("DeleteReportedComment", "Forum", new {id = c.CommentId})'" style="background-color:transparent;border:none;padding:0px;">
							<img src="~/images/trash.png" style="width:25px;margin:auto;margin-bottom:10px;cursor: pointer" />
						</button>
						<span class="categoria" style="font-size:20px;padding:10px;margin-left:10px;" id="toTranslate">Comment</span>
						<button onclick="location.href='@Url.Action("CommentReportRemove", "Forum", new {id = c.CommentId})'" style="background-color:transparent;border:none;width:100%;padding:0px">
							<img src="~/images/openTrash.png" style="width:40px;height:55px !important;margin:auto;margin-bottom:10px;cursor: pointer" />
						</button>
					</div>

					<div style="width:70%;margin:auto;text-align:center">
						<h5 style="margin-bottom:0px;margin-left:3%;text-align: left;font-size:25px;text-align:center" id="toTranslate">@c.Text</h5>
					</div>

					<div style="text-align:center;display:flex;justify-content:center;">

						<div style="width:100%;margin-bottom:0px;margin-left: 10px;font-size:20px;display:flex;justify-content:center">
							<img onclick="location.href='@Url.Action("Profile", "Forum", new {profileId = c.Profile.Id})'" src="data:image/*;base64,@(Convert.ToBase64String(c.Profile.Picture))" style="width:50px;height: 50px;margin:auto" />
							<p onclick="location.href='@Url.Action("Profile", "Forum", new {profileId = c.Profile.Id})'" style="margin-top:25px;margin-left:5px;margin-right:5px;font-size:20px;font-weight:normal">@c.Profile.User.UserName </p>
							<img src="@cflag" style="width:25px" />
						</div>
						
					</div>
					
				</div>
			}
		}
			

	</div>

	
</body>
</html>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}